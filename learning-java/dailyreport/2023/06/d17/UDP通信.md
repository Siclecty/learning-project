##### UDP通信

###### UDP协议的特点

* UDP是一种无连接、不可靠传输的协议。
* 将数据源IP、目的地IP和端口以及数据封装成数据包，大小限制在64KB内，直接发送出去即可。

##### DatagramPacket：数据包对象

| public DatagramPacket(byte[] buf, int length, InetAddress address, int port) | 创建发送端数据包对象buf：要发送的内容，字节数组length：要发送内容的字节长度address：接收端的IP地址对象port：接收端的端口号 |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| public DatagramPacket(byte[] buf, int length)                | 创建接收端的数据包对象buf：用来存储接收的内容length：能够接收内容的长度 |

###### DatagramPacket常用方法

| 方法                   | 说明                     |
| ---------------------- | ------------------------ |
| public int getLength() | 获得实际接收到的字节个数 |

##### DatagramSocket：发送端和接收端对象

| 构造器                          | 说明                                               |
| ------------------------------- | -------------------------------------------------- |
| public DatagramSocket()         | 创建发送端的Socket对象，系统会随机分配一个端口号。 |
| public DatagramSocket(int port) | 创建接收端的Socket对象并指定端口号                 |

##### DatagramSocket类成员方法

| 方法                                  | 说明       |
| ------------------------------------- | ---------- |
| public void send(DatagramPacket dp)   | 发送数据包 |
| public void receive(DatagramPacket p) | 接收数据包 |

###### UDP的三种通信方式

* 单播：单台主机与单台主机之间的通信。
* 广播：当前主机与所在网络中的所有主机通信。
* 组播：当前主机与选定的一组主机的通信。

###### UDP如何实现广播

* 使用广播地址：255.255.255.255

* 具体操作：
  * 发送端发送的数据包的目的地写的是广播地址、且指定端口。 （255.255.255.255  ,   9999）
  * 本机所在网段的其他主机的程序只要注册对应端口就可以收到消息了。（9999）

###### UDP如何实现组播

* 使用组播地址：224.0.0.0 ~ 239.255.255.255
* 具体操作：
  * 发送端的数据包的目的地是组播IP  (例如：224.0.1.1,  端口：9999)
  * 接收端必须绑定该组播IP(224.0.1.1)，端口还要注册发送端的目的端口9999 ，这样即可接收该组播消息。
  * DatagramSocket的子类MulticastSocket可以在接收端绑定组播IP。

##### TCP协议

* TCP是一种面向连接，安全、可靠的传输数据的协议 
* 传输前，采用“三次握手”方式，点对点通信，是可靠的  
* 在连接中可进行大数据量的传输 

##### Socket类

| 构造器                                | 说明                                                         |
| ------------------------------------- | ------------------------------------------------------------ |
| public Socket(String host , int port) | 创建发送端的Socket对象与服务端连接，参数为服务端程序的ip和端口。 |

###### Socket类成员方法

| 方法                           | 说明               |
| ------------------------------ | ------------------ |
| OutputStream getOutputStream() | 获得字节输出流对象 |
| InputStream getInputStream()   | 获得字节输入流对象 |

##### ServerSocket类

| 构造器                        | 说明           |
| ----------------------------- | -------------- |
| public ServerSocket(int port) | 注册服务端端口 |

##### ServerSocket类成员方法

| 方法                   | 说明                                                         |
| ---------------------- | ------------------------------------------------------------ |
| public Socket accept() | 等待接收客户端的Socket通信连接连接成功返回Socket对象与客户端建立端到端通信 |